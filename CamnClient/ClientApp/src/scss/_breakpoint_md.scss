/* min-width: 767.98px */
@include media-breakpoint-down(sm) {
  * {
    -webkit-overflow-scrolling: touch;
  }

  .map {
    position: fixed;
  }

  .headerWrapper {
    .dnv-alerts {
      top: 0px;
    }

    .fixed-top {
      top: 56px;

      &.hidefb {
        top: 0px;
      }
    }
  }

  .navbar {
    background-color: transparent;

    &.fixed-top {
      z-index: 1;
    }

    .navbar-brand {
      display: none;
    }

    .save-map-view {
      background-color: $mobile-header-bg;
      color: $dark-grey;
      width: 100%;
      margin-bottom: 5px;

      span {
        float: none;
      }
    }

    .row {
      width: 100%;
      margin: 0px;

      & > .col {
        min-width: unset;
        width: 100%;
        flex-basis: unset;
      }

      .search-field {
        width: 100%;
        padding: 3px 15px;
        align-items: center;
        justify-content: center;

        .form-group {
          .input-group {
            &.search {
              width: 100%;

              .form-control {
                float: none;
                width: 100%;
              }
            }
          }
        }

        input.form-control {
          @include font-size(1rem);
        }
      }
    }
  }

  .left-nav-wrapper {
    width: 100%;
    height: 56px;
    background-color: transparent;
    position: fixed;
    bottom: 0;
    z-index: 999;
  }

  .sidebar {
    width: 100%;
    height: 56px;
    display: flex;
    top: auto;
    justify-content: space-around;
    padding-top: 0px !important;
    z-index: 999;

    hr {
      display: none;
    }

    .btn {
      &.btn-link {
        margin: 10px;
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;

        &:first-child {
          margin: 10px;
        }

        &.tools {
          &::before {
            display: block;
            width: 5px;
            height: 36px;
            border-left: solid 1px $gray-300;
            content: "";
            position: absolute;
            right: 23%;
          }
        }
      }
    }
  }

  .leaflet-bottom {
    &.leaflet-left {
      margin: 0px 0px 60px 5px;
    }
  }

  .leaflet-draw-tooltip {
    margin-top: -48px;
    margin-left: 30px;
    float: right;

    &:before {
      display: none;
    }
  }

  #layersDiv {
    left: 0px;
    z-index: 9999;
    width: 90%;
    padding: 0px;
    top: 0px;
    position: fixed;

    &.fade {
      left: -90%;
    }

    .container {
      height: calc(100% - 133px);

      .layersContent {
        width: 100%;
        height: 100%;
        overflow-y: auto;
        padding: 0px !important;

        & > .ml-2 {
          margin-left: 0px !important;
        }

        .availableLayers {
          padding-left: 10px;
        }

        #activeLayersGroup {
          .btn {
            &.layer-label {
              width: 80%;
              padding-left: 10px;
            }
          }
        }

        .row {
          &.cdk-drop-list {
            margin-left: 0px;
          }
        }
      }

      .title {
        margin-left: 0px;
      }
    }

    .row {
      margin-left: 0px;
      margin-right: 0px;
      display: block;

      #activeLayersDiv {
        float: left;
      }

      &.layer-title {
        display: flex;

        .hr {
          float: left;
        }
      }
    }

    & > .col-auto {
      margin-left: 0px !important;
      padding: 0px 0px 0px 10px !important;
      float: left;
    }

    .btn {
      padding-left: 0px;
    }

    .basemap-container {
      width: calc(100% - 30px);
      padding: 0px 10px 15px 10px;

      .layer-title {
        display: flex;
      }

      .ml-2 {
        margin-left: 0px !important;

        .row {
          &.mt-2 {
            &.layer-title {
              .btn-basemap {
                margin: 0px 0px 0px 5px;
                padding-right: 0px;
              }
            }
          }
        }
      }

      .row {
        &.mt-2 {
          .col {
            padding-right: 0px;

            hr {
              width: calc(100% - 20px);
            }
          }
        }
      }

      hr {
        max-width: none;
      }

      .basemap-tiles {
        padding-right: 0px;
        margin-left: 0px;
        background-color: $white;

        .baseMapsSpan {
          background-color: $white;
          padding: 2px;
        }
      }
    }

    .basemap-list {
      width: calc(100% - 50px);
      padding: 8px 0px;
      margin-left: 11px;
      bottom: 120px;
      max-height: 150px;

      &.layers-div-slide {
        bottom: -20px;
      }

      .basemap-tiles {
        display: flex;
        flex-wrap: wrap;
        margin-left: 0;
        justify-content: flex-start;
        position: relative;

        .tile-wrapper {
          position: relative;
          margin-right: 6px;
          flex: 1;
          -webkit-flex: 1;


          label.baseMapsImg {
            width: 25%;
            min-width: 65px;
            height: 65px;
            display: block;
            min-height: unset;
            margin-bottom: 20px;
            background-position-y: 0px;
            background-size: 100%;
            flex: 1;
            -webkit-flex: 1;

            &.selected {
              border: solid 3px #A8C6EE;

              span {
                float: none;
                margin-left: -5px;
              }
            }

            .baseMapsSpan {
              background-color: $white;
              padding: 2px;
              position: absolute;
              bottom: 0px;
              @include font-size(0.75);
              width: 100%;
              display: inline-block;
            }
          }
        }
      }
    }
  }

  #layerFilterDiv {
    left: 0px;
    z-index: 10000;
    padding: 0px 15px 7px 15px;
    width: 87%;
    position: fixed;

    &.fade {
      .filters-container {
        left: -690px;
      }
    }

    .filters-container {
      top: 85px;
      left: 25px;
      margin-top: 0px;
      background-color: #ffffff;
    }

    .filters-bottom {
      .btn {
        margin-right: 10px;
      }
    }
  }

  .ng-dropdown-panel {
    z-index: 10001;
  }

  .rightPanel {
    z-index: 101;

    .featurePanel {
      width: 100%;
      margin: 0px auto;
      top: 110%;
      z-index: 101;
      transition: all 0.5s;
      padding-top: 9px;
      right: 0px;

      .rightPanelControls {
        padding-right: 5px;
      }

      .btn-expand {
        display: block;
      }

      &.expanded {
        width: 100%;
        top: 60%;
        height: 100%;
        z-index: 1031;
        transition: all 0.5s;
        overflow-y: scroll;
        position: absolute;
        touch-action: pan-y !important;

        .btn-compress {
          display: block;
        }

        &.full {
          top: 0%;
        }
      }

      .feature-scroll {
        max-height: unset;

        .featureDetails {
          padding: 0px 0px 56px 0px;
        }

        .feature-gallery {
          width: 100% !important;
          height: 302px !important;

          &.singleImage {
            height: 250px !important;
          }
        }

        .panels {
          .panel {
            .feature-gallery {
              padding: 0px 10px 0px 0px;
              height: 302px !important;
            }

            .btn-link {
              padding: 5px 1rem 5px 0px;
            }
          }
        }
      }
    }
  }

  h2 {
    &.carouselTitle {
      padding-left: 0.5rem;
    }
  }

  .leaflet-popup-content-wrapper {
    min-width: 170px;
  }

  .popupWrapper {
    width: auto;

    .btn-chevron {
      margin: 0px 0px 0px 5px;
    }
  }

  .carousel__track {
    .carousel__slide {
      width: 100vw;

      &.resultsList {
        padding-left: 5px;
        padding-right: 5px;
      }
    }
  }

  .carousel__activator:nth-of-type(1):checked ~ .carousel__track {
    .carousel__slide:nth-child(2) {
      left: 100vw;
      -webkit-transition: all 0.5s;
      transition: all 0.5s;
    }
  }

  .carousel__activator:nth-of-type(2):checked ~ .carousel__track {
    .carousel__slide:nth-child(1) {
      left: 0vw;
      width: auto;
      -webkit-transition: all 0.5s;
      transition: all 0.5s;

      &.feature {
        left: 0px;
        width: auto;
      }

      &.resultsList {
        &.hidden {
          left: -100vw;
          width: 300px;
          -webkit-transition: all 0.5s;
          transition: all 0.5s;
        }
      }
    }
  }

  .file-uploader {
    .inline-block {
      &.text-center {
        input[type=file] {
          width: 230px;
        }
      }
    }
  }

  .nav-tabs {
    width: 100vw;

    .nav-item {
      &.list-margin {
        margin-left: 10px;
      }
    }
  }

  .legendDiv {
    position: fixed;
    z-index: 9999;
    left: 0px;

    .container {
      .title {
        margin-left: 0px;
      }
    }

    .btn {
      padding-left: 0px;
    }

    .btn-link {
      margin-top: 2px;
    }
  }


  .map-view {
    .view-row {
      .form-group {
        .btn-save-as {
          margin: 10px 0px 0px 0px;
        }
      }
    }
  }

  .cdk-overlay-container {
    width: 97vw;
    height: 391px;
    margin: 0px auto;
    left: 0px;
    top: 0px;
    position: fixed;

    .cdk-overlay-pane {
      max-width: none !important;
    }
  }

  .mat-dialog-container {
    width: 100%;
    height: 391px;
    margin: 0.5rem;

    .mat-dialog-title {
      width: 100%;
    }
  }
}
